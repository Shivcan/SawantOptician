<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sawant Optician Invoice</title>
  <style>
    body {
      background: linear-gradient(to bottom right, #fff8dc, #fff3e0);
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 10px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
    }

    .invoice-container {
      width: 148mm;
      min-height: 210mm;
      background: #fffef2;
      border: 2px solid #d32f2f;
      padding: 10px 15px;
      border-radius: 10px;
      color: #000;
      box-shadow: 0 4px 12px rgba(211, 47, 47, 0.3);
      page-break-inside: avoid;
      font-size: 13px;
    }

    .header {
      text-align: center;
      border-bottom: 2px solid #d32f2f;
      padding-bottom: 5px;
      margin-bottom: 5px;
    }

    .header h1 {
      color: #b71c1c;
      font-size: 26px;
      margin: 4px 0;
      font-weight: 800;
    }

    .header h3, .header h4 {
      color: #d32f2f;
      margin: 2px 0;
      font-size: 13px;
    }

    .details {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 5px;
      margin-bottom: 5px;
    }

    .details label {
      font-weight: bold;
      color: #000;
      font-size: 12px;
    }

    input, textarea {
      width: 100%;
      padding: 4px;
      border: 1px solid #b71c1c;
      border-radius: 4px;
      background: #fffef9;
      color: #000;
      outline: none;
      font-size: 12px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 5px;
      border: 1px solid #b71c1c;
      font-size: 12px;
    }

    th, td {
      border: 1px solid #b71c1c;
      padding: 4px;
      text-align: center;
    }

    th {
      background-color: #ffebee;
      color: #b71c1c;
    }

    .amounts {
      margin-top: 6px;
      font-size: 13px;
    }

    .amounts label {
      font-weight: bold;
    }

    .footer {
      margin-top: 8px;
      border-top: 2px solid #d32f2f;
      padding-top: 5px;
      text-align: center;
      font-size: 11px;
      color: #b71c1c;
      line-height: 1.2em;
    }

    .actions {
      margin-top: 8px;
      text-align: center;
    }

    button {
      background: linear-gradient(to right, #d32f2f, #b71c1c);
      color: white;
      padding: 6px 12px;
      margin: 3px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      font-size: 12px;
      transition: 0.2s ease;
    }

    button:hover {
      background: linear-gradient(to right, #e53935, #c62828);
      box-shadow: 0 0 8px rgba(211, 47, 47, 0.6);
    }

    .marathi {
      color: #d32f2f;
      font-weight: bold;
    }

    .name-age {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    @media print {
      body {
        background: white;
        margin: 0;
        padding: 0;
      }

      .actions {
        display: none;
      }

      .invoice-container {
        width: 148mm;
        min-height: 210mm;
        border: 1px solid #b71c1c;
        margin: 0 auto;
        box-shadow: none;
        page-break-after: avoid;
        padding: 8px 12px;
      }

      table, th, td {
        border-width: 0.8px;
      }
    }
  </style>
</head>
<body>

  <div class="invoice-container">
    <div class="header">
      <h1>‡§∏‡§æ‡§µ‡§Ç‡§§ ‡§ë‡§™‡•ç‡§ü‡•Ä‡§∂‡§ø‡§Ø‡§®</h1>
      <h3>Desai Hospital Samor, Doctors Colony, Gadhinglaj</h3>
      <h4>‡§Æ‡•ã‡§¨‡§æ. 7498015706 / 9823802576 | Sunday Closed</h4>
    </div>

    <div class="details">
      <div>
        <label>Bill No.:</label>
        <input type="text" id="billNo">
      </div>
      <div>
        <label>Date:</label>
        <input type="date" id="billDate">
      </div>
      <div class="name-age" style="grid-column: span 2;">
        <div style="flex:2">
          <label>Name:</label>
          <input type="text" id="custName">
        </div>
        <div style="flex:1">
          <label>Age:</label>
          <input type="number" id="custAge">
        </div>
      </div>
      <div>
        <label>Address:</label>
        <input type="text" id="custAddr">
      </div>
      <div>
        <label>Contact:</label>
        <input type="text" id="custContact">
      </div>
    </div>

    <h3 style="color:#b71c1c; text-align:center; margin-top:5px;">Eye Power Details</h3>
    <table>
      <tr>
        <th></th><th>Sph</th><th>Cyl</th><th>Axis</th><th>VA</th>
      </tr>
      <tr>
        <td>Right Eye</td>
        <td><input id="rSph"></td>
        <td><input id="rCyl"></td>
        <td><input id="rAxis"></td>
        <td><input id="rVa"></td>
      </tr>
      <tr>
        <td>Left Eye</td>
        <td><input id="lSph"></td>
        <td><input id="lCyl"></td>
        <td><input id="lAxis"></td>
        <td><input id="lVa"></td>
      </tr>
    </table>

    <h3 style="color:#b71c1c; text-align:center; margin-top:5px;">Description of Goods</h3>
    <table>
      <tr><th>Description</th><th>Amount (‚Çπ)</th></tr>
      <tr>
        <td><input id="frame" placeholder="Frame"></td>
        <td><input id="frameAmt" type="number"></td>
      </tr>
      <tr>
        <td><input id="lenses" placeholder="Lenses"></td>
        <td><input id="lensAmt" type="number"></td>
      </tr>
    </table>

    <div class="amounts">
      <p><label>Total:</label> ‚Çπ <span id="total">0</span></p>
      <p><label>Advance:</label> ‚Çπ <input id="advance" type="number" value="0"></p>
      <p><label>Balance:</label> ‚Çπ <span id="balance">0</span></p>
    </div>

    <div class="footer">
      <p class="marathi">‡§ï‡•â‡§Æ‡•ç‡§™‡•ç‡§Ø‡•Å‡§ü‡§∞‡§æ‡§à‡§ú‡•ç‡§° ‡§°‡•ã‡§≥‡•á ‡§§‡§™‡§æ‡§∏‡§£‡•Ä</p>
      <p>Order once placed cannot be changed or cancelled.</p>
      <p>Customer Frames Have Their Own Risk of Any Damage at The Time of Fitting / Adjustment Too.</p>
      <p><b>Thank you, Visit again üôè</b></p>
    </div>

    <div class="actions">
      <button onclick="saveInvoice()">üíæ Save</button>
      <button onclick="window.print()">üñ®Ô∏è Print / Download PDF</button>
    </div>
  </div>

  <script>
    const frameAmtEl = document.getElementById('frameAmt');
    const lensAmtEl = document.getElementById('lensAmt');
    const advanceEl = document.getElementById('advance');
    const totalEl = document.getElementById('total');
    const balanceEl = document.getElementById('balance');

    function updateTotals() {
      const frameAmt = parseFloat(frameAmtEl.value) || 0;
      const lensAmt = parseFloat(lensAmtEl.value) || 0;
      const advance = parseFloat(advanceEl.value) || 0;
      const total = frameAmt + lensAmt;
      const balance = total - advance;
      totalEl.textContent = total.toFixed(2);
      balanceEl.textContent = balance.toFixed(2);
    }

    [frameAmtEl, lensAmtEl, advanceEl].forEach(el => el.addEventListener('input', updateTotals));

    function saveInvoice() {
      updateTotals();
      const invoice = {
        billNo: billNo.value,
        billDate: billDate.value,
        custName: custName.value,
        custAge: custAge.value,
        custAddr: custAddr.value,
        custContact: custContact.value,
        frame: frame.value,
        frameAmt: frameAmt.value,
        lenses: lenses.value,
        lensAmt: lensAmt.value,
        advance: advance.value,
        total: totalEl.textContent,
        balance: balanceEl.textContent
      };
      localStorage.setItem('lastInvoice', JSON.stringify(invoice));
      alert('‚úÖ Invoice saved successfully!');
    }

    window.onload = () => {
      const saved = JSON.parse(localStorage.getItem('lastInvoice'));
      if (saved) {
        billNo.value = saved.billNo || '';
        billDate.value = saved.billDate || '';
        custName.value = saved.custName || '';
        custAge.value = saved.custAge || '';
        custAddr.value = saved.custAddr || '';
        custContact.value = saved.custContact || '';
        frame.value = saved.frame || '';
        frameAmt.value = saved.frameAmt || '';
        lenses.value = saved.lenses || '';
        lensAmt.value = saved.lensAmt || '';
        advance.value = saved.advance || '0';
        updateTotals();
      }
    };
  </script>
</body>
</html>
